<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"
>
    <div id="header">
        <div id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container">
                <div class="navbar-header">
                    <div class="navbar-brand">
                        <a href="/home.xhtml">
                            <h:graphicImage style="width: 240px" library="images" name="logo.png"/>
                        </a>
                    </div>

                </div>
                <div class="collapse navbar-collapse navbar-right">
                    <ul class="nav navbar-nav">
                        <li><a href="/home.xhtml"> #{msg['pNavListe_Startseite']} </a></li>
                    </ul>
                </div>
            </div><!--/.container-->
        </div><!--/nav-->
    </div><!--/header-->


    <div>

        <div class="section-header">
            <h2 class="section-title text-center wow fadeInDown">#{msg['addData_caption']}</h2>
        </div>

        <div class="container-wrapper">
            <div class="container">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        Auswahl treffen
                    </div>
                    <div class="panel-body">
                        <div class="row">
                            <h:form styleClass="auswahlPanel">
                                <div class="col-md-1">
                                    <label>Kategorie: </label>
                                </div>
                                <div class="col-md-4 col-lg-4"> <!--Breitenanpassung funktioniert nicht -->
                                    <h:selectOneMenu styleClass="btn btn-primary dropdown-toggle" id="cat"
                                                     value="#{categories.selectedItem}">
                                        <f:selectItem itemValue="#{null}" itemLabel="Kategorie auswählen"/>
                                        <f:selectItems value="#{categories.categories}"/>
                                        <f:ajax listener="#{categories.ajaxListener}"
                                                render="sektor ownProject input"/>
                                    </h:selectOneMenu>
                                </div>
                            </h:form>
                        </div>

                        <div class="row">
                            <h:form styleClass="auswahlPanel" id="sektor">
                                <div class="col-md-1">
                                    <label>Sektor: </label>
                                </div>
                                <div class="col-md-4 col-lg-4"> <!--Breitenanpassung funktioniert nicht -->
                                    <h:selectOneMenu styleClass="btn btn-primary dropdown-toggle"
                                                     value="#{sectors.selectedItem}">
                                        <f:selectItem itemValue="#{null}" itemLabel="Sektor auswählen"/>
                                        <f:selectItems value="#{sectors.sec}"/>
                                        <f:ajax listener="#{sectors.ajaxListener}" render="ownProject input"/>
                                    </h:selectOneMenu>
                                </div>
                            </h:form>

                            <h:form styleClass="auswahlPanel">
                                <div class="col-md-2">
                                    <h:inputText styleClass="form-control" type="text" id="newSec"
                                                 value="#{addSelectorBean.selector}"/>
                                </div>
                                <div class="col-md-2">
                                    <p:commandButton type="button" styleClass="btn btn-primary"
                                                     value="neuen Sektor anlegen"
                                                     action="#{addSelectorBean.addSector()}"/>
                                </div>
                            </h:form>

                        </div>

                        <div class="row">
                            <h:form id="ownProject" styleClass="auswahlPanel">
                                <div class="col-md-1">
                                    <label> Projekt: </label>
                                </div>
                                <div class="col-md-4"> <!--Breitenanpassung funktioniert nicht -->
                                    <h:selectOneMenu type="button" styleClass="btn btn-primary dropdown-toggle"
                                                     id="pro" value="#{project.selectedItem}"
                                                     data-toggle="dropdown">
                                        <f:selectItem itemValue="#{null}" itemLabel="Projekt auswählen"/>
                                        <f:selectItems value="#{project.pro}"/>
                                        <f:ajax listener="#{project.ajaxListener}" render="input images"/>
                                    </h:selectOneMenu>
                                </div>
                            </h:form>

                            <h:form styleClass="auswahlPanel">
                                <div class="col-md-2">
                                    <h:inputText styleClass="form-control" type="text" id="newPro"
                                                 value="#{addSelectorBean.selector}"/>
                                </div>
                                <div class="col-md-2">
                                    <p:commandButton type="button" styleClass="btn btn-primary"
                                                     value="neues Projekt anlegen"
                                                     action="#{addSelectorBean.addProject()}"/>
                                </div>
                            </h:form>
                        </div>
                    </div>
                </div>
            </div>

            <div class="container">
                <div class="panel panel-default">
                    <div class="panel-heading">Details</div>
                    <h:form id="input" enctype="multipart/form-data" styleClass="auswahlPanel">

                        <div class="row">
                            <div class="col-md-8">
                                <div class="auswahlPanel">
                                    <div class="input-group">
                                        <span class="input-group-addon" id="ort-addon">Ort</span>
                                        <h:inputText type="text" class="form-control" aria-describedby="ort-addon"
                                                     value="#{textUpdate.ort}"/>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-8">
                                <div class="auswahlPanel">
                                    <div class="input-group">
                                        <span class="input-group-addon" id="bauherr-addon">Bauherr</span>
                                        <h:inputText type="text" class="form-control" aria-describedby="bauherr-addon"
                                                     value="#{textUpdate.bauherr}"/>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-8">
                                <div class="auswahlPanel">
                                    <div class="input-group">
                                        <span class="input-group-addon" id="architekt-addon">Architekt</span>
                                        <h:inputText type="text" class="form-control" aria-describedby="architekt-addon"
                                                     value="#{textUpdate.architekt}"/>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-8">
                                <div class="auswahlPanel">
                                    <div class="input-group">
                                        <span class="input-group-addon" id="startzeit-addon">Startzeit</span>
                                        <h:inputText type="text" class="form-control" aria-describedby="startzeit-addon"
                                                     value="#{textUpdate.startzeit}"/>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-8">
                                <div class="auswahlPanel">
                                    <div class="input-group">
                                        <span class="input-group-addon" id="endzeit-addon">Endzeit</span>
                                        <h:inputText type="text" class="form-control" aria-describedby="endzeit-addon"
                                                     value="#{textUpdate.endzeit}"/>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-8">
                                <div class="auswahlPanel">
                                    <div class="input-group">
                                        <span class="input-group-addon" id="bauvolumen-addon">Bauvolumen</span>
                                        <h:inputText type="text" class="form-control"
                                                     aria-describedby="bauvolumen-addon"
                                                     value="#{textUpdate.bauvolumen}"/>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-8">
                                <div class="auswahlPanel">
                                    <div class="input-group">
                                        <span class="input-group-addon" id="massnahmen-addon">Massnahmen</span>
                                        <h:inputTextarea type="text" class="form-control"
                                                         aria-describedby="massnahmen-addon"
                                                         value="#{textUpdate.massnahmen}"/>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-8">
                                <div class="auswahlPanel">
                                    <div class="input-group">
                                        <span class="input-group-addon" id="leistung-addon">Leistung</span>
                                        <h:inputTextarea type="text" class="form-control"
                                                         aria-describedby="leistung-addon"
                                                         value="#{textUpdate.leistung}"/>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div id="bilderupload" class="input-group">
                            <p:messages showDetail="true"/>
                            <div class="row">
                                <div class="col-md-1">
                                    <label for="images">Bilder: </label>
                                </div>
                            </div>

                            <ui:repeat id="images" value="#{projectImageBean.allImage}" var="item">


                                    <p:commandLink action="#{projectImageBean.deleteImage(item.imageID)}">
                                        <h:graphicImage value="DisplayImage?id=#{item.imageID}" style="height: 100px"/>
                                        <p:confirm header="Löschen" icon="ui-icon-alert"
                                                   message="Das ausgewählte Bild wirklich löschen?"/>
                                    </p:commandLink>

                                    <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                                        <p:commandButton value="Ja" type="button" styleClass="ui-confirmdialog-yes"
                                                         icon="ui-icon-check"
                                                         action="#{projectImageBean.deleteImage(item.imageID)}"/>
                                        <p:commandButton value="Nein" type="button" styleClass="ui-confirmdialog-no"
                                                         icon="ui-icon-close"/>
                                    </p:confirmDialog>

                            </ui:repeat>

                            <div class="row">
                                <div class="col-md-4">
                                    <span class="label label-default"> Weitere Bilder hinzufügen</span>
                                </div>

                                <div class="col-md-8">
                                    <p:fileUpload id="upload" binding="#{uploadImage.image}" value="#{uploadImage.file}"
                                                  mode="simple"
                                                  allowTypes="/(\.|\/)(gif|jpe?g|png)$/"/>

                                </div>
                            </div>

                        </div>

                        <div class="row">

                            <div class="col-sm-6">

                                <p:commandButton
                                        action="#{textUpdate.insertData()}"
                                        class="btn btn-primary" value=" Daten speichern" ajax="false"
                                        actionListener="#{uploadImage.upload}"/>

                            </div>


                        </div>
                    </h:form>
                </div>
            </div>
        </div>
    </div>
</ui:composition>
